<?xml version="1.0" encoding="UTF-8"?>

<project>
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.codehaus.cargo</groupId>
    <artifactId>cargo-samples-testAll</artifactId>
    <version>1.0-SNAPSHOT</version>
  </parent>
  <artifactId>cargo-samples-maven2-testRemoteDeploy</artifactId>
  <packaging>pom</packaging>
  <name>cargo-samples-maven2-testRemoteDeploy</name>
  <description>
    o Verify that Cargo can do a remote deployment to an already running Tomcat 5.x container.
    o Ensure that a Tomcat instance is running before running "mvn install". The Tomcat container
      needs to have been configured so that the Manager application is active and accessible with
      an "admin" username and no "password" (these are the default values).
  </description>
  <scm>
    <connection>scm:svn:svn://svn.codehaus.org/cargo/cargo/trunk/samples/extensions/maven2/testRemoteDeploy</connection>
    <url>http://svn.cargo.codehaus.org/</url>
  </scm>
  <dependencies>
    <dependency>
      <groupId>org.codehaus.cargo</groupId>
      <artifactId>simple-war</artifactId>
      <version>1.0-SNAPSHOT</version>
      <type>war</type>
    </dependency>
  </dependencies>
  <build>
    <plugins>
      <plugin>
        <groupId>org.codehaus.cargo</groupId>
        <artifactId>cargo-maven2-plugin</artifactId>
        <executions>
          <execution>
            <phase>install</phase>
            <goals>
              <goal>deployer-deploy</goal>
              <goal>deployer-undeploy</goal>
              <goal>deployer-deploy</goal>
              <goal>deployer-redeploy</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <container>
            <containerId>tomcat5x</containerId>
            <type>remote</type>
          </container>
          <configuration>
            <type>runtime</type>
            <properties>
              <cargo.tomcat.manager.url>http://localhost:${port}/manager</cargo.tomcat.manager.url>
              <cargo.remote.username>admin</cargo.remote.username>
              <cargo.remote.password></cargo.remote.password>
            </properties>
          </configuration>
          <deployer>
            <type>remote</type>
            <deployables>
              <deployable>
                <groupId>org.codehaus.cargo</groupId>
                <artifactId>simple-war</artifactId>
                <type>war</type>
                <pingURL>http://localhost:${port}/simple-war/index.jsp</pingURL>
                <properties>
                  <context>simple-war</context>
                </properties>
              </deployable>
            </deployables>
          </deployer>
        </configuration>
      </plugin>
    </plugins>
  </build>
</project>
